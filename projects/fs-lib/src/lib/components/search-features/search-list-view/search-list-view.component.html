<div class="w-100 file-management-container "

  >
    <div cdkDropList [cdkDropListData]="storages" class="grid_view drop-area mosaic-list" (cdkDropListDropped)="drop($event)">

        <div class="w-100 list-title">
          <h4>
            <mat-checkbox class="example-margin"
                  [checked]="allComplete"
                  [color]="'primary'"
                  [indeterminate]="someComplete()"
                  (change)="setAll($event)">
            </mat-checkbox>

            Dossiers
          </h4>
        </div>

      <mat-list
          class="list-group dropable-list d-flex flex-column"
          id="all"
          cdkDropList
          [cdkDropListData]="storages"
          (cdkDropListDropped)="drop($event)">
        <mat-list-item
          ngContextMenu="folderContext"
          *ngFor="let storage of storages; let i = index"
          [ngContextData]="storage"
          ngContextData="test"
          class="list-group-item dropable-list-item p-0 omit-globalContext w-100"
          [cdkDragData]="storage" cdkDrag
          [class]="{'blink': (newFolder && newFolder.id == storage.id) ? true : false}"
          (onDoubleClick)="onDblCLick(storage)"
          >
          <mat-checkbox
          [checked]="checkedStorageList[i]?.completed"
            (change)="checkChange($event, storage.id)" ></mat-checkbox>

            <app-search-list-item ngContextMenu="folderContext" (mousedown)="onMouseDown(i)" [storage]="storage" class="" [cdkDragData]="storage" cdkDrag></app-search-list-item>

          <!-- <app-folder-list-item class="folder" folderId="5" (mousedown)="onMouseDown(i, 'folder')" [folder]="folder"></app-folder-list-item> -->

            <!-- <file-list-item [file]="folder"></file-list-item> -->

        </mat-list-item>
      </mat-list>
    </div>
  </div>

  <!-- <app-letter-pagination *ngIf="storages.length" [isLoading]="isLoaded" (click)="paginate($event)"></app-letter-pagination> -->

  <app-letter-pagination *ngIf="storages.length && isAllStorageListLoaded" [isLoading]="isLoaded" (click)="paginate($event)"></app-letter-pagination>
